h1 Graphiques

canvas#myChart_dist

/ reste un calcul de date_max entre les donn√©es et la date du jour

javascript:
  var myRubyArray = "#{mes_x}";
  var tmpValue = myRubyArray.toString().replace(/&quot;/g, '');
  var tmpValue = tmpValue.replace(/[\[\]' /"/ \s]+/g, '');
  var myJSArray = tmpValue.split(",", #{mes_x.count});

  var ctx = document.getElementById("myChart_dist").getContext("2d");
  var myChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: myJSArray, 
    datasets: [{
      label: 'Distance',
      data: #{mes_y},
        backgroundColor: 'rgba(151,187,205,.8)',
        borderColor: 'rgba(151,187,205,1)',
        borderWidth: 2,
        pointStrokeColor : '#fff',
      }]
    },
    options: {
      hover: {
        mode: 'dataset'
      },
      scales: {
        yAxes: [{
          ticks: {
            stepSize: 1,
            beginAtZero: true
          }
        }],
        xAxes: [{
          type: 'time',
          time: {
            unit: 'day',
            min: "#{mes_x.first}", 
            max: "#{mes_x.last}",
          }
        }]
      }
    }
  });

